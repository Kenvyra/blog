<dialog id="offcanvas-menu" class="offcanvas-end py-0 px-2">
    <div class="flex justify-between items-center py-3 px-3">
       {% include "logo.njk" %}
        <button type="button" class="btn -icon close">
            <svg width="24" height="24" fill="currentColor">
                <title>Close menu</title>
                <use href="/images/sprite.svg#close"/>
            </svg>
        </button>
    </div>
    <div class="dialog-inner flex-auto">
        <nav class="menu" aria-label="Offcanvas menu">
            {%- for entry in collections.all | eleventyNavigation %}
                <li>
                    <a
                        href="{{ entry.url | url }}"
                        {% if entry.url == page.url %}class="is-active"{% endif %}
                        {% if entry.url == page.url %}aria-current="page"{% endif %}
                    >{{ entry.title }}</a>
                </li>
            {%- endfor %}
            <li class="hr" role="separator"></li>
            <li class="mt-4">
                <button class="btn -theme w-full" onclick="document.querySelector('#download-modal-offcanvas').showModal()">Get Kenvyra</button>

                <dialog id="download-modal-offcanvas" class="h-auto">
                    <label for="device-offcanvas">Device</label>

                    <select id="device-offcanvas" class="mb-2">
                        <option disabled selected value>Choose a device</option>

                        {%- for device in collections.devices -%}
                            <option value="{{ device.data.codename }}">{{ device.data.name }} ({{ device.data.codename }})</option>
                        {%- endfor -%}
                    </select>

                    <label for="flavor-offcanvas">Flavor</label>

                    <select id="flavor-offcanvas" class="mb-2">
                        <option disabled selected value>Choose a flavor</option>

                        <option value="vanilla">Vanilla</option>
                        <option value="microg">microG</option>
                        <option value="gapps">GApps</option>
                    </select>

                    <a id="download-offcanvas" class="btn -theme mb-2 is-disabled">Download</a>

                    <button class="btn" onclick="document.querySelector('#download-modal-offcanvas').close()">Close</button>
                </dialog>
            </li>
        </nav>
    </div>
</dialog>
